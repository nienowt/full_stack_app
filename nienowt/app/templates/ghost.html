<section data-ng-init="ghostctrl.getGhosts()" data-ng-controller='GhostController as ghostctrl'>

    <section data-ng-repeat="ghost in ghostctrl.ghosts" data-ng-show="tabctrl.active('ghosts')">
      <p>Name: {{ghost.name}}</p>
      <p>Powers:</p>
      <p>Primary: {{ghost.powers[0].primary}}</p>
      <p>Secondary: {{ghost.powers[0].secondary}}</p>
      <p>Weakness: {{ghost.powers[0].weakness}}</p>
      <button id="ghostEdit" data-ng-click="ghostctrl.toggle(ghost.name)">Edit</button>

      <form name="editForm" ng-show="ghostctrl.editShow == ghost.name">
        Name: <input type="text" data-ng-model="ghostctrl.changedGhost.ghost.name" value=""/>
        <p>Primary Power: <input type="text" data-ng-model="ghostctrl.changedGhost.powers.primary" value=""/></p>
        <p>Secondary Power: <input type="text" data-ng-model="ghostctrl.changedGhost.powers.secondary" value=""/></p>
        <p>Weakness: <input type="text" data-ng-model="ghostctrl.changedGhost.powers.weakness" value=""/></p>

        <button id="ghostEditSubmit" data-ng-click="ghostctrl.editGhost(ghost)">Submit</button>
        <p data-ng-show="ghostctrl.editConfirmation">Are you sure you want to do that? Changes cannot be undone once submitted</p>

        <button form="editForm" data-ng-click="ghostctrl.reset(ghost)" data-ng-show="ghostctrl.editConfirmation">Cancel Edit</button>
        <button data-ng-click="ghostctrl.removeGhost(ghost)">Delete Ghost</button>
      </form>

    </section>


    <section ng-show="tabctrl.active('landing')">
      Sign up!
      <form name="newForm" data-ng-submit="ghostctrl.createGhost(ghostctrl.newGhost)" >
        Name: <input type="text" data-ng-model="ghostctrl.newGhost.name" value=""/>
        Password: <input type="text" data-ng-model="ghostctrl.newGhost.password">
        <p>Primary Power: <input type="text" data-ng-model="ghostctrl.newGhost.powers.primary" value=""/></p>
        <p>Secondary Power: <input type="text" data-ng-model="ghostctrl.newGhost.powers.secondary" value=""/></p>
        <p>Weakness: <input type="text" data-ng-model="ghostctrl.newGhost.powers.weakness" value=""/></p>
        <button id="ghost" ng-click="tabctrl.setTab('login')" type="submit">Submit</button>
      </form>
    </section>

    <section ng-show="tabctrl.active('login')">
      Name: <input type="text" ng-model="ghost.name" value="">
      Password: <input type="password" ng-model="ghost.password" value="">
      <button ng-click="ghostctrl.login(ghost)"></button>
    </section>
</section>
